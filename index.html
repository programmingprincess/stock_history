<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spatial Composition</title>
    <link href="style.css" rel="stylesheet" type="text/css">

</head>
<body>
<h1 class = "title">Stock History </h1>

<h3>1. Find relevant news: </h3>
<!-- <select id="tree-dropdown" onchange="updateTreeSelection(this)">
  <option value="Microsoft" id="tree0">Tree 0</option>
  <option value="Apple" id="tree1">Tree 1</option>
  <option value="Google" id="tree2">Tree 2</option>
  <option value="Facebook" id="tree2">Tree 3</option>
</select> -->
Company: <input type="text" id="myText" value="Company name">
<button onclick = "updateTreeSelection()"> Find results</button>


<div id="printme"></div>

</body>


<script>

updateTreeSelection = function(dropdown) {
    // tree_id=dropdown.value;
    // idx=tree_id.substring(4);
    // idx=parseInt(idx);
    searchTerm = document.getElementById("myText").value
    // searchTerm = dropdown.value;


    var url = 'http://newsapi.org/v2/everything?' +
              'q='+searchTerm+'&' +
              'from=2020-02-15&' +
              'sortBy=popularity&';

    var req = new Request(url);
    var res = ""
    fetch(req)
        .then(function(response) {
          return response.json();
        }).then(response=>{
          res = response.articles[0].description;
          // debugger
          console.log(res);
          document.getElementById("printme").innerHTML = res;
        })


}

</script>
<script type="text/javascript" src="main.js"></script>
</html>
